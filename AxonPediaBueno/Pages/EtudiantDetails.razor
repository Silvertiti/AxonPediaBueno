@page "/etudiant-details/{Id:int}"
@using AxonPediaBueno.Models
@using AxonPediaBueno.Data
@using Microsoft.EntityFrameworkCore
@inject ApplicationDbContext DbContext

<h3>Détails de l'étudiant</h3>

@if (etudiant is null)
{
    <p>Chargement...</p>
}
else
{
    <p><strong>Prénom :</strong> @etudiant.Prenom</p>
    <p><strong>Nom :</strong> @etudiant.Nom</p>
    <p><strong>Email :</strong> @etudiant.Email</p>
}

@code {
    [Parameter]
    public int Id { get; set; } // Paramètre récupéré de l'URL

    private Etudiant? etudiant;

    protected override async Task OnInitializedAsync()
    {
        // Récupère l'étudiant avec l'identifiant correspondant
        etudiant = await DbContext.Etudiants.FirstOrDefaultAsync(e => e.Id == Id);
    }
}
